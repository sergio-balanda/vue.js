<!doctype html>
<html lang='es'>
<head>
 <meta charset='utf-8'>
 <meta name='viewport' content='width=device-width, initial-scale=1, shrink-to-fit=no'>
 <link rel='stylesheet' href='https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css' integrity='sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh' crossorigin='anonymous'>
 <title>Hello, world!</title>
</head>
<body id="fondo">
 
    <div class="container p-5">
        <button id="btn" class="btn btn-dark">agregar</button>
        <div id="botones" class="container mt-2">

        </div>
    </div>
 
 <script src='https://code.jquery.com/jquery-3.4.1.slim.min.js' integrity='sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n' crossorigin='anonymous'></script>
 <script src='https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js' integrity='sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo' crossorigin='anonymous'></script>
 <script src='https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js' integrity='sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6' crossorigin='anonymous'></script>
    
    <script src="js.js"></script>
    <script>
        const btn = document.querySelector('#btn');
        const botones = document.querySelector('#botones');
        const fondo = document.querySelector('#fondo');

        (()=>{
            btn.addEventListener('click', agregarBotones);
            botones.addEventListener('click', delegacion);
        })();
        (()=>{
            const c = localStorage.getItem('colorFondo');
            if(c==null){
                fondo.className="bg-light"
            }else{
                fondo.className=c;
            }
        })();


        function agregarBotones(e){
            e.preventDefault();
            botones.innerHTML=
            `
                <button class="btn btn-primary">primary</button> 
                <button class="btn btn-secondary">secondary</button> 
                <button class="btn btn-danger">danger</button> 
                <button class="btn btn-success">success</button> 
                <button class="btn btn-warning">warning</button> 
            `
        }

  

        function delegacion(e){
            e.preventDefault();
            console.log(e.target.classList[1]);  
            const colorBtn = e.target.classList[1];
            localStorage.setItem('colorFondo', colorBtn)
            switch(colorBtn){
                case "btn-primary":
                    fondo.className="bg-primary";
                    break;
                case "btn-secondary":
                    fondo.className="bg-secondary";
                    break;
                case "btn-danger":
                    fondo.className="bg-danger";
                    break;
                case "btn-success":
                    fondo.className="bg-success";
                    break;
                case "btn-warning":
                    fondo.className="bg-warning";
                    break;
                default:
                    fondo.className="bg-white";
                    break;
            }  
        }

    </script>
</body>
</html>